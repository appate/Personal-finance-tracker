<body>
  <link rel="stylesheet" type="text/css" href="/public/dashboard.css" />
  <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
  <script>
    function drawChart() {
      // Define the data for the chart
      let data = new google.visualization.DataTable();
      data.addColumn('string', 'Task');
      data.addColumn('number', 'Hours per Day');
      data.addRows([
        ['Food', 8],
        ['Clothing', 2],
        ['Travel', 4],
        ['Bills', 8],
        ['Misc', 2]
      ]);

      // Define the options for the chart
      let options = {
        title: 'Category wise expenditure'
      };

      // Create a new chart and draw it on the page
      let chart = new google.visualization.PieChart(document.getElementById('chart_div_piechart'));
      chart.draw(data, options);
    }

    // Load the Google Charts library and call the drawChart function
    google.charts.load('current', { packages: ['corechart'] });
    google.charts.setOnLoadCallback(drawChart);
  </script>
  <script>
    function drawChart_bar() {
      // Define the data for the chart
      var data = new google.visualization.DataTable();
      data.addColumn('string', 'Year');
      data.addColumn('number', 'Sales');
      data.addRows([
        ['2010', 1000],
        ['2011', 1170],
        ['2012', 660],
        ['2013', 1030]
      ]);

      // Define the options for the chart
      var options = {
        title: 'Sales by Year',
        legend: { position: 'none' },
        width: 600,
        height: 400
      };

      // Create a new chart and draw it on the page
      var chart = new google.visualization.ColumnChart(document.getElementById('chart_div_barchart'));
      chart.draw(data, options);
    }

    // Load the Google Charts library and call the drawChart function
    google.charts.load('current', { packages: ['corechart'] });
    google.charts.setOnLoadCallback(drawChart_bar);
  </script>
  <h1 style="text-align: center">Welcome {{data.firstname}} {{data.lastname}}</h1>
  <div id="chart_wrapper">
    <div id="chart_div_piechart" style="width: 900px; height: 500px;">Charts</div>
    <div id="chart_div_barchart" style="width: 900px; height: 500px;">Charts</div>
  </div>
  <button type="button" onclick="window.location.href='/transactions/new'">Add a new Transaction</button>
  <button type="button " onclick="window.location.href='/transactions/seeAllTransaction'">View All Transactions</button>
  <button type="button " onclick="window.location.href='/budget/new'">Add a new Budget</button>
  <button type="button " onclick="window.location.href='/budget/seeAllBudgets'">View All Budgets</button>
  <a href="charts"><button type="button">View Detailed Charts</button></a>
  <button type="button">Upload excel</button>
  <button type="button">Settings</button>
  <button onclick=window.location.href="/logout">Logout</button>
  <h2>Budgets Set</h2>
  <table>
    <thead>
      <tr>
        <th>Start Date</th>
        <th>End Date</th>
        <th>Category</th>
        <th>Amount Set</th>
        <th>Amount Remaining</th>
      </tr>
    </thead>
    <tbody>
      {{#each active_budget}}
      <tr>
        <td>{{start_date}}</td>
        <td>{{end_date}}</td>
        <td>{{category}}</td>
        <td>{{budget_amount}}</td>
        {{!-- {{#if (eq category amount_remaining.category)}}
        {{anotherObject.amountRemaining}}
        {{else}}
        {{amountRemaining}}
        {{/if}} --}}
        <td>{{amount_remaining}}</td>
      </tr>
      {{/each}}
    </tbody>
  </table>

  <h2> Transaction history</h2>
  <table>
    <thead>
      <tr>
        <th>Date</th>
        <th>Description</th>
        <th>Category</th>
        <th>Amount</th>
        <th>Type</th>
      </tr>
    </thead>
    <tbody>
      {{#each transactions}}
      <tr>
        <td>{{transaction_date}}</td>
        <td>{{description}}</td>
        <td>{{category}}</td>
        <td>{{amount}}</td>
        <td>{{paymentType}}</td>
      </tr>
      {{/each}}
    </tbody>
  </table>

</body>